
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des Employ√©s - Ferme de Noix</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css">
    <link rel="stylesheet" href="gestionaire.css">
   <link rel="stylesheet" href="employe.css">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header>
            <div class="logo">
                <h1>üå∞FERME DE NOIX</h1>
                <p>Production Bio depuis 1985</p>
            </div>
            <div class="admin-info">
                <p><i class="fas fa-map-marker-alt"></i> Ferme des Coteaux</p>
                <p><i class="fas fa-user-shield"></i> Admin Agriculteur</p>
            </div>
        </header>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Sidebar Navigation -->
            <aside class="sidebar">
                <div class="menu-section">
                  <h3><i class="fas fa-seedling"></i> Gestion de la Ferme</h3>
                    <ul class="menu">
                        <li><a href="entre.html"><i class="fas fa-tachometer-alt"></i> Tableau de Bord</a></li>
                        <li class="active"><a href="commandes.html"><i class="fas fa-shopping-basket"></i> Commandes</a></li>
                        <li><a href="profile.html"><i class="fas fa-user"></i> Profil</a></li>
                        <li><a href="gestionaire.html"><i class="fas fa-cogs"></i> Gestion Fermi√®re</a></li>
                        <li><a href="verger.html"><i class="fas fa-tree"></i> Gestion des Vergers</a></li>
                        <li><a href="suivi.html"><i class="fas fa-clipboard-check"></i> Suivi R√©colte</a></li>
                        <li><a href="parcelle.html"><i class="fas fa-map-marked-alt"></i> Gestion Parcelles</a></li>
                        <li><a href="#"><i class="fas fa-seedling"></i> Vari√©t√©s de Noix</a></li>
                        <li><a href="#"><i class="fas fa-box-open"></i> Gestion Stock</a></li>
                    </ul>
                </div>

                <div class="profile-section">
                    <ul class="profile-menu">
                        <li><a href="cretificats.html"><i class="fas fa-print"></i> Certificats Bio</a></li>
                        <li><a href="finaciere.html"><i class="fas fa-euro-sign"></i> Gestion Financi√®re</a></li>
                        <li><a href="calendrier.html"><i class="fas fa-calendar-alt"></i> Calendrier Agricole</a></li>
                        <li><a href="materiel.html"><i class="fas fa-tractor"></i> Mat√©riel Agricole</a></li>
                        <li><a href="employe.html"><i class="fas fa-users"></i> Employ√©s</a></li>
                      
                    </ul>
                </div>
            </aside>

            <!-- Content Area -->
            <div class="content-area">
                <h2><i class="fas fa-users"></i> Gestion des Employ√©s</h2>
                
                <div class="view-options">
                    <div class="view-option active" onclick="changeView('card')">
                        <i class="fas fa-th-large"></i> Vue Cartes
                    </div>
                    <div class="view-option" onclick="changeView('table')">
                        <i class="fas fa-table"></i> Vue Tableau
                    </div>
                </div>

                <div class="tab">
                    <button class="tablinks active" onclick="openTab('activeEmployees')">Employ√©s Actifs</button>
                    <button class="tablinks" onclick="openTab('inactiveEmployees')">Anciens Employ√©s</button>
                </div>

                <div id="activeEmployees" class="tabcontent" style="display: block;">
                    <button class="btn btn-add" onclick="openModal('newEmployeeModal')">
                        <i class="fas fa-plus"></i> Ajouter un employ√©
                    </button>
                    <button class="btn" style="background-color: var(--info-color); color: white;" onclick="exportEmployeesToCSV()">
                        <i class="fas fa-file-export"></i> Exporter en CSV
                    </button>

                    <!-- Vue Cartes -->
                    <div id="cardView" class="employee-cards">
                        <div class="employee-card">
                            <div class="employee-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="employee-details">
                                <div class="employee-name">Jean Dupont</div>
                                <div class="employee-position">Responsable Verger</div>
                                <div class="employee-info">
                                    <div class="employee-info-item">
                                        <i class="fas fa-phone"></i> 06 12 34 56 78
                                    </div>
                                    <div class="employee-info-item">
                                        <i class="fas fa-envelope"></i> jean.dupont@fermedenoix.fr
                                    </div>
                                    <div class="employee-info-item">
                                        <i class="fas fa-calendar-alt"></i> Embauche: 15/03/2018
                                    </div>
                                </div>
                                <div>
                                    <span class="status-badge status-active">Actif</span>
                                </div>
                            </div>
                            <div class="employee-actions">
                                <button class="btn btn-edit" onclick="openEditEmployeeModal(this)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-delete" onclick="deactivateEmployee(this)"><i class="fas fa-user-slash"></i></button>
                            </div>
                        </div>

                        <div class="employee-card">
                            <div class="employee-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="employee-details">
                                <div class="employee-name">Marie Lambert</div>
                                <div class="employee-position">Ouvri√®re Agricole</div>
                                <div class="employee-info">
                                    <div class="employee-info-item">
                                        <i class="fas fa-phone"></i> 06 98 76 54 32
                                    </div>
                                    <div class="employee-info-item">
                                        <i class="fas fa-envelope"></i> marie.lambert@fermedenoix.fr
                                    </div>
                                    <div class="employee-info-item">
                                        <i class="fas fa-calendar-alt"></i> Embauche: 22/06/2020
                                    </div>
                                </div>
                                <div>
                                    <span class="status-badge status-vacation">Cong√©s</span>
                                </div>
                            </div>
                            <div class="employee-actions">
                                <button class="btn btn-edit" onclick="openEditEmployeeModal(this)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-delete" onclick="deactivateEmployee(this)"><i class="fas fa-user-slash"></i></button>
                            </div>
                        </div>
                    </div>

                    <!-- Vue Tableau (cach√©e par d√©faut) -->
                    <div id="tableView" class="employee-table" style="display: none;">
                        <table>
                            <thead>
                                <tr>
                                    <th>Nom</th>
                                    <th>Poste</th>
                                    <th>T√©l√©phone</th>
                                    <th>Email</th>
                                    <th>Date d'embauche</th>
                                    <th>Statut</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Jean Dupont</td>
                                    <td>Responsable Verger</td>
                                    <td>06 12 34 56 78</td>
                                    <td>jean.dupont@fermedenoix.fr</td>
                                    <td>15/03/2018</td>
                                    <td><span class="status-badge status-active">Actif</span></td>
                                    <td>
                                        <button class="btn btn-edit" onclick="openEditEmployeeModal(this)"><i class="fas fa-edit"></i></button>
                                        <button class="btn btn-delete" onclick="deactivateEmployee(this)"><i class="fas fa-user-slash"></i></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>Marie Lambert</td>
                                    <td>Ouvri√®re Agricole</td>
                                    <td>06 98 76 54 32</td>
                                    <td>marie.lambert@fermedenoix.fr</td>
                                    <td>22/06/2020</td>
                                    <td><span class="status-badge status-vacation">Cong√©s</span></td>
                                    <td>
                                        <button class="btn btn-edit" onclick="openEditEmployeeModal(this)"><i class="fas fa-edit"></i></button>
                                        <button class="btn btn-delete" onclick="deactivateEmployee(this)"><i class="fas fa-user-slash"></i></button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="inactiveEmployees" class="tabcontent">
                    <h3>Anciens Employ√©s</h3>
                    <div class="employee-cards">
                        <div class="employee-card" style="opacity: 0.7;">
                            <div class="employee-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="employee-details">
                                <div class="employee-name">Pierre Martin</div>
                                <div class="employee-position">Ancien Responsable R√©colte</div>
                                <div class="employee-info">
                                    <div class="employee-info-item">
                                        <i class="fas fa-calendar-alt"></i> P√©riode: 10/05/2015 - 30/09/2022
                                    </div>
                                </div>
                                <div>
                                    <span class="status-badge status-inactive">Inactif</span>
                                </div>
                            </div>
                            <div class="employee-actions">
                                <button class="btn" style="background-color: var(--warning-color); color: white;" onclick="reactivateEmployee(this)">
                                    <i class="fas fa-user-check"></i> R√©activer
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal pour ajouter un nouvel employ√© -->
        <div id="newEmployeeModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal('newEmployeeModal')">&times;</span>
                <h2><i class="fas fa-user-plus"></i> Nouvel Employ√©</h2>
                <form id="newEmployeeForm">
                    <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                        <div style="flex: 1;">
                            <label>Pr√©nom</label>
                            <input type="text" name="firstName" placeholder="Pr√©nom" required>
                        </div>
                        <div style="flex: 1;">
                            <label>Nom</label>
                            <input type="text" name="lastName" placeholder="Nom" required>
                        </div>
                    </div>
                    
                    <label>Poste</label>
                    <select name="position" required>
                        <option value="">S√©lectionner un poste</option>
                        <option value="Responsable Verger">Responsable Verger</option>
                        <option value="Ouvrier Agricole">Ouvrier Agricole</option>
                        <option value="Technicien Agricole">Technicien Agricole</option>
                        <option value="Responsable R√©colte">Responsable R√©colte</option>
                        <option value="Chauffeur">Chauffeur</option>
                        <option value="Autre">Autre</option>
                    </select>
                    
                    <label>Email</label>
                    <input type="email" name="email" placeholder="Email professionnel" required>
                    
                    <label>T√©l√©phone</label>
                    <input type="tel" name="phone" placeholder="Num√©ro de t√©l√©phone" required>
                    
                    <label>Date d'embauche</label>
                    <input type="date" name="hireDate" required>
                    
                    <label>Statut</label>
                    <select name="status" required>
                        <option value="Actif">Actif</option>
                        <option value="Cong√©s">Cong√©s</option>
                        <option value="Formation">En formation</option>
                    </select>
                    
                    <label>Notes</label>
                    <textarea name="notes" placeholder="Informations suppl√©mentaires"></textarea>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-add" onclick="saveEmployee()">
                            <i class="fas fa-save"></i> Enregistrer
                        </button>
                        <button type="button" class="btn btn-delete" onclick="closeModal('newEmployeeModal')">
                            <i class="fas fa-times"></i> Annuler
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Modal pour modifier un employ√© -->
        <div id="editEmployeeModal" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal('editEmployeeModal')">&times;</span>
                <h2><i class="fas fa-user-edit"></i> Modifier Employ√©</h2>
                <form id="editEmployeeForm">
                    <input type="hidden" name="employeeId">
                    <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                        <div style="flex: 1;">
                            <label>Pr√©nom</label>
                            <input type="text" name="firstName" placeholder="Pr√©nom" required>
                        </div>
                        <div style="flex: 1;">
                            <label>Nom</label>
                            <input type="text" name="lastName" placeholder="Nom" required>
                        </div>
                    </div>
                    
                    <label>Poste</label>
                    <select name="position" required>
                        <option value="">S√©lectionner un poste</option>
                        <option value="Responsable Verger">Responsable Verger</option>
                        <option value="Ouvrier Agricole">Ouvrier Agricole</option>
                        <option value="Technicien Agricole">Technicien Agricole</option>
                        <option value="Responsable R√©colte">Responsable R√©colte</option>
                        <option value="Chauffeur">Chauffeur</option>
                        <option value="Autre">Autre</option>
                    </select>
                    
                    <label>Email</label>
                    <input type="email" name="email" placeholder="Email professionnel" required>
                    
                    <label>T√©l√©phone</label>
                    <input type="tel" name="phone" placeholder="Num√©ro de t√©l√©phone" required>
                    
                    <label>Date d'embauche</label>
                    <input type="date" name="hireDate" required>
                    
                    <label>Statut</label>
                    <select name="status" required>
                        <option value="Actif">Actif</option>
                        <option value="Cong√©s">Cong√©s</option>
                        <option value="Formation">En formation</option>
                        <option value="Inactif">Inactif</option>
                    </select>
                    
                    <label>Notes</label>
                    <textarea name="notes" placeholder="Informations suppl√©mentaires"></textarea>
                    
                    <div class="form-actions">
                        <button type="button" class="btn btn-add" onclick="updateEmployee()">
                            <i class="fas fa-save"></i> Mettre √† jour
                        </button>
                        <button type="button" class="btn btn-delete" onclick="closeModal('editEmployeeModal')">
                            <i class="fas fa-times"></i> Annuler
                        </button>
                    </div>
                </form>
            </div>
        </div>

         <footer>
            <p>Copyright ¬© 2023 Ferme de Noix | Tous droits r√©serv√©s | <a href="#">Mentions l√©gales</a></p>
        </footer>
    </div>

   <script src="employe.js"></script>
</body>
</html>